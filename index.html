<!doctype HTML>
<html>

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

    <script src="https://unpkg.com/aframe-particle-system-component@1.0.11/dist/aframe-particle-system-component.min.js"></script>

    <script src="events.js"></script>
</head>

<body style="margin : 0px; overflow: hidden;">

    <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

        <a-assets>
            <a-asset-item id="obj" src="model.obj"></a-asset-item>
            <a-asset-item id="obj2" src="model.obj"></a-asset-item>
            <a-asset-item id="obj3" src="model.obj"></a-asset-item>
            <a-asset-item id="obj4" src="model.obj"></a-asset-item>
            <a-asset-item id="obj5" src="model.obj"></a-asset-item>
            <a-asset-item id="obj6" src="model.obj"></a-asset-item>
        </a-assets>

        <a-marker markerhandler type='pattern' url='/markers/tv.patt' id="animated-marker" emitevents="true" cursor="fuse: false; rayOrigin: mouse">

            <a-entity position="0 2.25 -15" particle-system="color: #EF0000,#44CC00"></a-entity>

            <a-entity id="model" obj-model="obj: #obj" scale="0.1 0.1 0.1" rotation="0 270 0" position="0 0.25 0"></a-entity>
            <a-plane color="#4A7EA5" height="1.3" width="1.3" rotation="-90 0 0"></a-plane>
            <a-entity
              text="
                value: nursery;
                font: /fonts/sangbleuempireblack.fnt;
                fontImage: /fonts/sangbleuempireblack.png;
                width: 8;
                align: center
              "
              rotation="-90 0 0"
              position="0 0.15 0"
              >
              <a-animation
                attribute="rotation"
                dur="30000"
                fill="forwards"
                to="-90 360 0"
                repeat="indefinite"
                easing="linear"
              >
              </a-animation>
            </a-entity>
        </a-marker>

        <a-marker markerhandler2 type='pattern' url='/markers/tv2.patt' id="animated-marker2" emitevents="true" cursor="fuse: false; rayOrigin: mouse">
          <a-entity id="model2" obj-model="obj: #obj2" scale="0.1 0.1 0.1" rotation="0 270 0" position="0 0.25 0"></a-entity>
          <a-plane color="#65A895" height="1.3" width="1.3" rotation="-90 0 0"></a-plane>

          <a-entity
            text="
              value: they live
              for the
              nursery;
              font: /fonts/sangbleuempireblack.fnt;
              fontImage: /fonts/sangbleuempireblack.png;
              width: 8;
              align: right
            "
            rotation="-90 0 0"
            position="0 0.15 0"
            >
            <a-animation
              attribute="opacity"
              dur="3000"
              fill="forwards"
              from="0"
              to="1"
              repeat="indefinite"
              easing="linear"
            >
            </a-animation>
          </a-entity>
        </a-marker>

        <a-marker markerhandler3 type='pattern' url='/markers/tv3.patt' id="animated-marker3" emitevents="true" cursor="fuse: false; rayOrigin: mouse">
          <a-entity id="model3" obj-model="obj: #obj3" scale="0.1 0.1 0.1" rotation="0 270 0" position="0 0.25 0"></a-entity>
          <a-plane color="#FFDA71" height="1.3" width="1.3" rotation="-90 0 0"></a-plane>
        </a-marker>

        <a-marker markerhandler4 type='pattern' url='/markers/tv4.patt' id="animated-marker4" emitevents="true" cursor="fuse: false; rayOrigin: mouse">
          <a-entity id="model4" obj-model="obj: #obj4" scale="0.1 0.1 0.1" rotation="0 270 0" position="0 0.25 0"></a-entity>
          <a-plane color="#F28D3A" height="1.3" width="1.3" rotation="-90 0 0"></a-plane>
        </a-marker>

        <a-marker markerhandler5 type='pattern' url='/markers/tv5.patt' id="animated-marker5" emitevents="true" cursor="fuse: false; rayOrigin: mouse">
          <a-entity id="model5" obj-model="obj: #obj5" scale="0.1 0.1 0.1" rotation="0 270 0" position="0 0.25 0"></a-entity>
          <a-plane color="#C1273E" height="1.3" width="1.3" rotation="-90 0 0"></a-plane>
        </a-marker>

        <a-marker markerhandler6 type='pattern' url='/markers/tv6.patt' id="animated-marker6" emitevents="true" cursor="fuse: false; rayOrigin: mouse">
          <a-entity id="model6" obj-model="obj: #obj6" scale="0.1 0.1 0.1" rotation="0 270 0" position="0 0.25 0"></a-entity>
          <a-plane color="#841924" height="1.3" width="1.3" rotation="-90 0 0"></a-plane>

          <a-entity
            id="text6-1"
            text="
              value:
                hurt
              ;
              font: /fonts/sangbleuempireblack.fnt;
              fontImage: /fonts/sangbleuempireblack.png;
              width: 40;
              align: center
            "
            rotation="-90 0 0"
            position="0 0.15 0"
            >
            <a-animation
              attribute="rotation"
              begin="model6-1"
              dur="10000"
              fill="forwards"
              to="0 0 0"
              easing="linear"
            >
            </a-animation>
            <a-animation
              attribute="position"
              begin="model6-1"
              dur="10000"
              fill="forwards"
              from="0 0.15 0"
              to="0 1 -1"
              easing="linear"
            >
            </a-animation>
          </a-entity>
        </a-marker>

        <!-- use this <a-entity camera> to support multiple-markers, otherwise use <a-marker-camera> instead of </a-marker> -->
        <a-entity camera></a-entity>
    </a-scene>

</body>

</html>
